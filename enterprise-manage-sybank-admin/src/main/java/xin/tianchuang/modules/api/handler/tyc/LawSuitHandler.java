package xin.tianchuang.modules.api.handler.tyc;

import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.List;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.BeanUtils;
import org.springframework.beans.factory.annotation.Autowired;

import xin.tianchuang.common.enums.tcxy.TcxyApiStatusCodeEnum;
import xin.tianchuang.modules.api.bean.api.tyc.BaseRespnseDTO;
import xin.tianchuang.modules.api.bean.api.tyc.request.BaseApiRequestDTO;
import xin.tianchuang.modules.api.bean.api.tyc.response.Open384LawSuitDTO;
import xin.tianchuang.modules.api.bean.api.tyc.response.ResponsePerPageNumResultDTO;
import xin.tianchuang.modules.api.dto.TycApiRespDTO;
import xin.tianchuang.modules.api.handler.QueryHandler;
import xin.tianchuang.modules.spider.entity.EntLawsuitInfoEntity;

import xin.tianchuang.modules.spider.service.EntLawsuitInfoService;

import com.google.common.base.Joiner;
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.google.gson.reflect.TypeToken;

/**
 * @author denghui
 */
public class LawSuitHandler implements QueryHandler<List<Open384LawSuitDTO>> {

	private static final Logger logger = LoggerFactory.getLogger(LawSuitHandler.class);

	@Autowired
	private EntLawsuitInfoService entLawsuitInfoService;

	@Override
	public BaseRespnseDTO<List<Open384LawSuitDTO>> parseData(BaseApiRequestDTO param, String apiData) {
		// http://124.207.122.29:18080/dmp-service-web/service/tianyancha/lawSuit?appId=a8e319a8b6f64b3e91024e7792a2c701&companyName=%E8%85%BE%E8%AE%AF%E7%A7%91%E6%8A%80%EF%BC%88%E6%B7%B1%E5%9C%B3%EF%BC%89%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8&sign=ce7d7a9af35c3a02da77650103dd0ae4
		// String apiData =
		// "{\"data\":{\"total\":2110,\"items\":[{\"SplitGids\":\"22822;1174989977;2957757725\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"plaintiffId\":\"\",\"court\":\"广州知识产权法院\",\"searchType\":\"101\",\"casereason\":\"侵害商标权纠纷\",\"uni\":\"88bd515103256452351d286a7a430332\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=0f91b229-0327-47c1-8729-a94900a15389\",\"caseno\":\"（2018）粤73民辖终421号\",\"id\":\"239223048\",\"_type\":\"31\",\"docid\":\"0f91b229-0327-47c1-8729-a94900a15389\",\"title\":\"北京百度网讯科技有限公司、福州市品果源餐饮管理有限公司侵害商标权纠纷二审民事裁定书\",\"appelleeId\":\"1174989977\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/2957757725&singlequote& target=&singlequote&_blank&singlequote&>广州创业咖啡有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/1174989977&singlequote& target=&singlequote&_blank&singlequote&>福州市品果源餐饮管理有限公司</a>\"],\"submittime\":\"1534348800000\",\"defendantId\":\"2957757725\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/7e33b29dabd311e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"appellantId\":\"22822\",\"uuid\":\"7e33b29dabd311e8a8b47cd30ae00894\",\"eventTime\":\"1534348800000\",\"doctype\":\"民事裁定\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/2957757725&singlequote& target=&singlequote&_blank&singlequote&>广州创业咖啡有限公司</a>，被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/1174989977&singlequote& target=&singlequote&_blank&singlequote&>福州市品果源餐饮管理有限公司</a>\"},{\"SplitGids\":\"22822\",\"plaintiffId\":\"\",\"court\":\"吴川市人民法院\",\"searchType\":\"101\",\"casereason\":\"名誉权纠纷\",\"uni\":\"7da11c5037614f78582cab3c6592de5d\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=c1d560e1-b0eb-46be-9644-a93b00a31019\",\"caseno\":\"（2018）粤0883民初1061号\",\"id\":\"238961381\",\"_type\":\"31\",\"docid\":\"c1d560e1-b0eb-46be-9644-a93b00a31019\",\"title\":\"陈碧婷与北京百度网讯科技有限公司名誉权纠纷一审民事判决书\",\"appelleeId\":\"\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1532793600000\",\"defendantId\":\"22822\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/a2a980dba32d11e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"appellantId\":\"\",\"uuid\":\"a2a980dba32d11e8a8b47cd30ae00894\",\"eventTime\":\"1532793600000\",\"doctype\":\"民事判决\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"22822;1174989977;2964723354\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"plaintiffId\":\"\",\"court\":\"北京知识产权法院\",\"searchType\":\"101\",\"casereason\":\"侵害商标权纠纷\",\"uni\":\"cf4f89803eb5e7fd874b62a9a8f1f312\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=045adec8-6b38-4011-a09a-a939001155f3\",\"caseno\":\"（2018）京73民辖终282号\",\"id\":\"238961382\",\"_type\":\"31\",\"docid\":\"045adec8-6b38-4011-a09a-a939001155f3\",\"title\":\"福州市品果源餐饮管理有限公司与北京创富宝品牌管理有限公司等侵害商标权纠纷民事裁定书\",\"appelleeId\":\"1174989977\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/1174989977&singlequote& target=&singlequote&_blank&singlequote&>福州市品果源餐饮管理有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/2964723354&singlequote& target=&singlequote&_blank&singlequote&>北京创富宝品牌管理有限公司</a>\"],\"submittime\":\"1532620800000\",\"defendantId\":\"2964723354\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/a2b601e2a32d11e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"appellantId\":\"22822\",\"uuid\":\"a2b601e2a32d11e8a8b47cd30ae00894\",\"eventTime\":\"1532620800000\",\"doctype\":\"民事裁定\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/2964723354&singlequote& target=&singlequote&_blank&singlequote&>北京创富宝品牌管理有限公司</a>，被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/1174989977&singlequote& target=&singlequote&_blank&singlequote&>福州市品果源餐饮管理有限公司</a>\"},{\"SplitGids\":\"22822\",\"court\":\"北京市高级人民法院\",\"searchType\":\"101\",\"casereason\":\"名誉权纠纷\",\"uni\":\"b9d39ea4cc7f13989a585941c1fc3309\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=0a7c0f03-9a04-48ed-a3a1-a9310011743b\",\"caseno\":\"（2018）京民申2607号\",\"id\":\"238743068\",\"_type\":\"31\",\"docid\":\"0a7c0f03-9a04-48ed-a3a1-a9310011743b\",\"title\":\"薛传亮等与颜泰峰名誉权纠纷再审审查与审判监督民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1532534400000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/13e5cca09dae11e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"uuid\":\"13e5cca09dae11e8a8b47cd30ae00894\",\"eventTime\":\"1532534400000\",\"doctype\":\"民事裁定\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"22822\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"court\":\"济南市中级人民法院\",\"searchType\":\"101\",\"casereason\":\"名誉权纠纷\",\"uni\":\"2202f5e366a935ecb6ec8cb85c4c41cc\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=3b103959-1171-4f88-88d0-a9340114cdc9\",\"caseno\":\"（2018）鲁01民辖终637号\",\"id\":\"238743069\",\"_type\":\"31\",\"docid\":\"3b103959-1171-4f88-88d0-a9340114cdc9\",\"title\":\"北京百度网讯科技有限公司与商河县人民医院名誉权纠纷无民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531929600000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/13ef09979dae11e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"uuid\":\"13ef09979dae11e8a8b47cd30ae00894\",\"eventTime\":\"1531929600000\",\"doctype\":\"民事裁定\"},{\"SplitGids\":\"22822;858768069\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"plaintiffId\":\"\",\"court\":\"广州知识产权法院\",\"searchType\":\"101\",\"casereason\":\"侵害作品信息网络传播权纠纷\",\"uni\":\"ae504cfe88e1de1d4b0df096031b9ba1\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=653b55b3-4497-47b5-b846-a93b00a3708d\",\"caseno\":\"（2018）粤73民辖终365-369号\",\"id\":\"238961383\",\"_type\":\"31\",\"docid\":\"653b55b3-4497-47b5-b846-a93b00a3708d\",\"title\":\"北京百度网讯科技有限公司、太平洋影音公司侵害作品信息网络传播权纠纷二审民事裁定书\",\"appelleeId\":\"858768069\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/858768069&singlequote& target=&singlequote&_blank&singlequote&>太平洋影音公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531929600000\",\"defendantId\":\"\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/a2bff1e7a32d11e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"appellantId\":\"22822\",\"uuid\":\"a2bff1e7a32d11e8a8b47cd30ae00894\",\"eventTime\":\"1531929600000\",\"doctype\":\"民事裁定\",\"defendants\":\"被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/858768069&singlequote& target=&singlequote&_blank&singlequote&>太平洋影音公司</a>\"},{\"SplitGids\":\"22822\",\"plaintiffId\":\"\",\"court\":\"唐山市路南区人民法院\",\"searchType\":\"101\",\"casereason\":\"网络购物合同纠纷\",\"uni\":\"ef0df22a5ac8d56c0fab5368b1fb498b\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=17fc4654-7612-4f84-babb-a93f00769805\",\"caseno\":\"（2018）冀0202民初956号\",\"id\":\"238965160\",\"_type\":\"31\",\"docid\":\"17fc4654-7612-4f84-babb-a93f00769805\",\"title\":\"李芳与北京百度网讯科技有限公司网络购物合同纠纷一审民事判决书\",\"appelleeId\":\"\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531843200000\",\"defendantId\":\"22822\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/b6e77db0a58911e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"appellantId\":\"\",\"uuid\":\"b6e77db0a58911e8a8b47cd30ae00894\",\"eventTime\":\"1531843200000\",\"doctype\":\"民事判决\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"22822;2352018706\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"court\":\"江苏省高级人民法院\",\"searchType\":\"101\",\"casereason\":\"侵害作品信息网络传播权纠纷\",\"uni\":\"a05dc4c1297f6cc7d0de2601002aa9fc\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=be040c28-9961-4a85-a685-a836001e71ad\",\"caseno\":\"（2017）苏民终793号\",\"id\":\"235391092\",\"_type\":\"31\",\"docid\":\"be040c28-9961-4a85-a685-a836001e71ad\",\"title\":\"793上海玄霆娱乐信息科技有限公司苏州分公司与北京百度网讯科技有限公司侵害作品信息网络传播权纠纷二审民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/2352018706&singlequote& target=&singlequote&_blank&singlequote&>上海玄霆娱乐信息科技有限公司苏州分公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531843200000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/5a1b475891f811e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"5a1b475891f811e8a8b47cd30ae00894\",\"eventTime\":\"1531843200000\",\"doctype\":\"民事裁定书\",\"defendants\":\"被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/2352018706&singlequote& target=&singlequote&_blank&singlequote&>上海玄霆娱乐信息科技有限公司苏州分公司</a>\"},{\"SplitGids\":\"22822\",\"plaintiffId\":\"\",\"court\":\"唐山市路南区人民法院\",\"searchType\":\"101\",\"casereason\":\"网络购物合同纠纷\",\"uni\":\"29a9b92d026b0321cb084041bd96ac87\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=c3368980-69c4-4f4c-a9bb-a93f00768945\",\"caseno\":\"（2018）冀0202民初955号\",\"id\":\"238965161\",\"_type\":\"31\",\"docid\":\"c3368980-69c4-4f4c-a9bb-a93f00768945\",\"title\":\"齐丽双与北京百度网讯科技有限公司网络购物合同纠纷一审民事判决书\",\"appelleeId\":\"\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531843200000\",\"defendantId\":\"22822\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/b6eeb6e4a58911e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"appellantId\":\"\",\"uuid\":\"b6eeb6e4a58911e8a8b47cd30ae00894\",\"eventTime\":\"1531843200000\",\"doctype\":\"民事判决\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"22822;2352018706\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"court\":\"江苏省高级人民法院\",\"searchType\":\"101\",\"casereason\":\"侵害作品信息网络传播权纠纷\",\"uni\":\"6a29407f9ca099f0e698aa441529070f\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=97ced640-7f0c-4f6e-94f3-a85d011bcf61\",\"caseno\":\"（2017）苏民终570号\",\"id\":\"235869044\",\"_type\":\"31\",\"docid\":\"97ced640-7f0c-4f6e-94f3-a85d011bcf61\",\"title\":\"570上海玄霆娱乐信息科技有限公司苏州分公司与北京百度网讯科技有限公司侵害作品信息网络传播权纠纷二审民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/2352018706&singlequote& target=&singlequote&_blank&singlequote&>上海玄霆娱乐信息科技有限公司苏州分公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531756800000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/d06c8914937511e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"d06c8914937511e8a8b47cd30ae00894\",\"eventTime\":\"1531756800000\",\"doctype\":\"民事裁定书\",\"defendants\":\"被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/2352018706&singlequote& target=&singlequote&_blank&singlequote&>上海玄霆娱乐信息科技有限公司苏州分公司</a>\"},{\"SplitGids\":\"2320361376;857566788;22822;11364756;23289175;2320027107\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/2320361376&singlequote& target=&singlequote&_blank&singlequote&>惠州伊丽莎白医院投资管理有限公司</a>\",\"court\":\"广东省惠州市中级人民法院\",\"searchType\":\"101\",\"casereason\":\"网络侵权责任纠纷\",\"uni\":\"8d6d738eb2b1a2ccb84511d9f9789308\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=cc2fb7e1-f3fd-4c49-84c7-a8ab0098d232\",\"caseno\":\"（2017）粤13民终4350号\",\"id\":\"235208603\",\"_type\":\"31\",\"docid\":\"cc2fb7e1-f3fd-4c49-84c7-a8ab0098d232\",\"title\":\"惠州百佳伊丽莎白妇产医院、惠州伊丽莎白医院投资管理有限公司网络侵权责任纠纷二审民事判决书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/23289175&singlequote& target=&singlequote&_blank&singlequote&>百度在线网络技术（北京）有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/11364756&singlequote& target=&singlequote&_blank&singlequote&>百度时代网络技术（北京）有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/2320361376&singlequote& target=&singlequote&_blank&singlequote&>惠州伊丽莎白医院投资管理有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/857566788&singlequote& target=&singlequote&_blank&singlequote&>百度（中国）有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/2320027107&singlequote& target=&singlequote&_blank&singlequote&>东莞市凯悦商贸有限公司</a>\"],\"submittime\":\"1531497600000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/b1c93113915d11e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"b1c93113915d11e8a8b47cd30ae00894\",\"eventTime\":\"1531497600000\",\"doctype\":\"民事判决书\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/857566788&singlequote& target=&singlequote&_blank&singlequote&>百度（中国）有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/11364756&singlequote& target=&singlequote&_blank&singlequote&>百度时代网络技术（北京）有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/23289175&singlequote& target=&singlequote&_blank&singlequote&>百度在线网络技术（北京）有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/2320027107&singlequote& target=&singlequote&_blank&singlequote&>东莞市凯悦商贸有限公司</a>\"},{\"SplitGids\":\"22822;171872848;2328319238;2983760472\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"court\":\"重庆市高级人民法院\",\"searchType\":\"101\",\"casereason\":\"侵害商标权纠纷\",\"uni\":\"ea0674f0752f28f3e397d3d62657c0f5\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=650533b8-9192-40d7-9039-a93400b93d68\",\"caseno\":\"（2018）渝民辖终74号\",\"id\":\"238743070\",\"_type\":\"31\",\"docid\":\"650533b8-9192-40d7-9039-a93400b93d68\",\"title\":\"北京百度网讯科技有限公司与重庆玛格家居有限公司等侵害商标权纠纷二审民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/2983760472&singlequote& target=&singlequote&_blank&singlequote&>重庆约定家居有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/171872848&singlequote& target=&singlequote&_blank&singlequote&>重庆玛格家居有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/2328319238&singlequote& target=&singlequote&_blank&singlequote&>重庆创想家家居有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531411200000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/13f6585b9dae11e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"uuid\":\"13f6585b9dae11e8a8b47cd30ae00894\",\"eventTime\":\"1531411200000\",\"doctype\":\"民事裁定\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/2328319238&singlequote& target=&singlequote&_blank&singlequote&>重庆创想家家居有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/2983760472&singlequote& target=&singlequote&_blank&singlequote&>重庆约定家居有限公司</a>，被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/171872848&singlequote& target=&singlequote&_blank&singlequote&>重庆玛格家居有限公司</a>\"},{\"SplitGids\":\"531085286;22822\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/531085286&singlequote& target=&singlequote&_blank&singlequote&>河北新天第装饰工程有限公司</a>\",\"court\":\"石家庄市中级人民法院\",\"searchType\":\"101\",\"casereason\":\"网络侵权责任纠纷\",\"uni\":\"531433dfbdf3333caa115edaaecc51db\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=a629f462-b5d0-4b7e-9fe1-a91a00a11d88\",\"caseno\":\"（2018）冀01民终486号\",\"id\":\"232999930\",\"_type\":\"31\",\"docid\":\"a629f462-b5d0-4b7e-9fe1-a91a00a11d88\",\"title\":\"河北新天第装饰工程有限公司、北京百度网讯科技有限公司网络侵权责任纠纷二审民事判决书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/531085286&singlequote& target=&singlequote&_blank&singlequote&>河北新天第装饰工程有限公司</a>\"],\"submittime\":\"1531238400000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/4570b54a86e011e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"4570b54a86e011e8a8b47cd30ae00894\",\"eventTime\":\"1531238400000\",\"doctype\":\"民事判决书\",\"defendants\":\"被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"376321715;22822;2322891898\",\"plaintiffs\":\"再审申请人-<a href=&singlequote&https://www.tianyancha.com/company/376321715&singlequote& target=&singlequote&_blank&singlequote&>重庆金夫人实业有限公司</a>\",\"court\":\"江苏省高级人民法院\",\"searchType\":\"101\",\"casereason\":\"侵害商标权纠纷\",\"uni\":\"70ea1342bff24060930d92d46c063deb\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=73e35261-5500-4c98-8154-a9180097810f\",\"caseno\":\"（2017）苏民申2676号\",\"id\":\"234451572\",\"_type\":\"31\",\"docid\":\"73e35261-5500-4c98-8154-a9180097810f\",\"title\":\"重庆金夫人实业有限公司与北京百度网讯科技有限公司、南京米兰尊荣婚纱摄影有限公司侵害商标权纠纷申诉、申请民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/376321715&singlequote& target=&singlequote&_blank&singlequote&>重庆金夫人实业有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/2322891898&singlequote& target=&singlequote&_blank&singlequote&>南京米兰尊荣婚纱摄影有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1531065600000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/e1b4d1c88b6311e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"e1b4d1c88b6311e8a8b47cd30ae00894\",\"eventTime\":\"1531065600000\",\"doctype\":\"民事裁定书\",\"defendants\":\"被申请人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/2322891898&singlequote& target=&singlequote&_blank&singlequote&>南京米兰尊荣婚纱摄影有限公司</a>\"},{\"SplitGids\":\"22822;23537076\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/23537076&singlequote& target=&singlequote&_blank&singlequote&>北京爱奇艺科技有限公司</a>\",\"court\":\"扬州市中级人民法院\",\"searchType\":\"101\",\"casereason\":\"\",\"uni\":\"34840a2309eb64bea92d171d965f8387\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=5099860a-59fd-47e9-9dc4-a93700a5903d\",\"caseno\":\"（2018）苏10民辖终178号\",\"id\":\"238864674\",\"_type\":\"31\",\"docid\":\"5099860a-59fd-47e9-9dc4-a93700a5903d\",\"title\":\"北京百度网讯科技有限公司、北京爱奇艺科技有限公司与耿广恒、耿广辉等民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/23537076&singlequote& target=&singlequote&_blank&singlequote&>北京爱奇艺科技有限公司</a>\"],\"submittime\":\"1530806400000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/33a00aa99e7611e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"uuid\":\"33a00aa99e7611e8a8b47cd30ae00894\",\"eventTime\":\"1530806400000\",\"doctype\":\"民事裁定\"},{\"SplitGids\":\"2963589815;1674563817;22822\",\"plaintiffs\":\"原告-<a href=&singlequote&https://www.tianyancha.com/company/2963589815&singlequote& target=&singlequote&_blank&singlequote&>唐山深水娱科技有限公司</a>\",\"court\":\"唐山高新技术产业开发区人民法院\",\"searchType\":\"101\",\"casereason\":\"服务合同纠纷\",\"uni\":\"1ee4fa944fe2f244a866e8e3b7694b54\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=8a791a68-a404-4098-b46b-a9130072b9f6\",\"caseno\":\"（2017）冀0291民初1065号\",\"id\":\"238930057\",\"_type\":\"31\",\"docid\":\"8a791a68-a404-4098-b46b-a9130072b9f6\",\"title\":\"唐山深水娱科技有限公司与唐山盘古网络技术有限公司、北京百度网讯科技有限公司服务合同纠纷一审民事判决书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/2963589815&singlequote& target=&singlequote&_blank&singlequote&>唐山深水娱科技有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/1674563817&singlequote& target=&singlequote&_blank&singlequote&>唐山盘古网络技术有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1530720000000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/043bed7c9fa111e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"043bed7c9fa111e8a8b47cd30ae00894\",\"eventTime\":\"1530720000000\",\"doctype\":\"民事判决书\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/1674563817&singlequote& target=&singlequote&_blank&singlequote&>唐山盘古网络技术有限公司</a>，<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"2349619564;22822\",\"plaintiffs\":\"原告-<a href=&singlequote&https://www.tianyancha.com/company/2349619564&singlequote& target=&singlequote&_blank&singlequote&>捷成华视网聚（常州）文化传媒有限公司</a>\",\"court\":\"北京市海淀区人民法院\",\"searchType\":\"101\",\"casereason\":\"\",\"uni\":\"a194676c2238d1be0c59d7bd2e4a26c8\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=20763c5d-54cc-4350-9e98-a9140010e3c7\",\"caseno\":\"（2017）京0108民初13352号\",\"id\":\"238706022\",\"_type\":\"31\",\"docid\":\"20763c5d-54cc-4350-9e98-a9140010e3c7\",\"title\":\"捷成华视网聚（常州）文化传媒有限公司与北京百度网讯科技有限公司一审民事判决书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/2349619564&singlequote& target=&singlequote&_blank&singlequote&>捷成华视网聚（常州）文化传媒有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1530720000000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/ea17d8689d5211e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"ea17d8689d5211e8a8b47cd30ae00894\",\"eventTime\":\"1530720000000\",\"doctype\":\"民事判决书\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"22822;1665777068;139572971\",\"plaintiffs\":\"上诉人-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"plaintiffId\":\"\",\"court\":\"广州市中级人民法院\",\"searchType\":\"101\",\"casereason\":\"名誉权纠纷\",\"uni\":\"9d1b73a0891d4e63b8de59dc88622ec9\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=a3b7a736-1fd1-4e34-aac5-a93b00a53286\",\"caseno\":\"（2018）粤01民终12543号\",\"id\":\"238960519\",\"_type\":\"31\",\"docid\":\"a3b7a736-1fd1-4e34-aac5-a93b00a53286\",\"title\":\"北京百度网讯科技有限公司、广州民土餐饮有限公司名誉权纠纷二审民事裁定书\",\"appelleeId\":\"1665777068\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/139572971&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司广州分公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\",\"<a href=&singlequote&https://www.tianyancha.com/company/1665777068&singlequote& target=&singlequote&_blank&singlequote&>广州民土餐饮有限公司</a>\"],\"submittime\":\"1530720000000\",\"defendantId\":\"139572971\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/c9756f98a26511e8a8b47cd30ae00894\",\"casetype\":\"民事\",\"appellantId\":\"22822\",\"uuid\":\"c9756f98a26511e8a8b47cd30ae00894\",\"eventTime\":\"1530720000000\",\"doctype\":\"民事裁定\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/139572971&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司广州分公司</a>，被上诉人-<a href=&singlequote&https://www.tianyancha.com/company/1665777068&singlequote& target=&singlequote&_blank&singlequote&>广州民土餐饮有限公司</a>\"},{\"SplitGids\":\"22822\",\"court\":\"唐山市路北区人民法院\",\"searchType\":\"101\",\"casereason\":\"买卖合同纠纷\",\"uni\":\"55f587013d01934e0d0463ca93840bc3\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=09f7e4d0-ac61-4760-855f-a90f0072d28b\",\"caseno\":\"（2018）冀0203民初2642号\",\"id\":\"238763507\",\"_type\":\"31\",\"docid\":\"09f7e4d0-ac61-4760-855f-a90f0072d28b\",\"title\":\"姜海龙与北京百度网讯科技有限公司买卖合同纠纷一审民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1530633600000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/2f8e225b9dbf11e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"2f8e225b9dbf11e8a8b47cd30ae00894\",\"eventTime\":\"1530633600000\",\"doctype\":\"民事裁定书\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"},{\"SplitGids\":\"22822\",\"court\":\"唐山市路北区人民法院\",\"searchType\":\"101\",\"casereason\":\"买卖合同纠纷\",\"uni\":\"82630e0afadab0a981846c8ecabf4995\",\"url\":\"http://wenshu.court.gov.cn/content/content?DocID=b1b83647-81ce-4e20-b0d9-a90f0072c2bb\",\"caseno\":\"（2018）冀0203民初2643号\",\"id\":\"235551232\",\"_type\":\"31\",\"docid\":\"b1b83647-81ce-4e20-b0d9-a90f0072c2bb\",\"title\":\"唐山半卷书企业管理咨询服务有限公司与北京百度网讯科技有限公司买卖合同纠纷一审民事裁定书\",\"abstracts\":\"\",\"connList\":[\"<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"],\"submittime\":\"1530633600000\",\"lawsuitUrl\":\"https://www.tianyancha.com/lawsuit/73b4cee8928e11e8a8b47cd30ae00894\",\"casetype\":\"民事案件\",\"uuid\":\"73b4cee8928e11e8a8b47cd30ae00894\",\"eventTime\":\"1530633600000\",\"doctype\":\"民事裁定书\",\"defendants\":\"被告-<a href=&singlequote&https://www.tianyancha.com/company/22822&singlequote& target=&singlequote&_blank&singlequote&>北京百度网讯科技有限公司</a>\"}],\"num\":1,\"pageNum\":1},\"seqNum\":\"43ab4e39bbf94c0c9b7747b86ac56cd3\",\"bizCode\":\"\",\"message\":\"查询成功\",\"status\":10}";

		//
		Gson gson = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();
		Type jsonType = new TypeToken<TycApiRespDTO<ResponsePerPageNumResultDTO<Open384LawSuitDTO>>>() {
		}.getType(); //
		TycApiRespDTO<ResponsePerPageNumResultDTO<Open384LawSuitDTO>> dtos = gson.fromJson(apiData, jsonType);
		if (dtos == null) { // 成功
			BaseRespnseDTO<List<Open384LawSuitDTO>> rtnDTO = new BaseRespnseDTO<List<Open384LawSuitDTO>>();
			rtnDTO.setCode(TcxyApiStatusCodeEnum.SYS_BUZY.key());
			rtnDTO.setMsg("接口响应数据为空");
			return rtnDTO;
		}

		Integer status = dtos.getStatus();
		String uuid = dtos.getSeqNum();
		String entName = param.getName();

		BaseRespnseDTO<List<Open384LawSuitDTO>> rtnDTO = new BaseRespnseDTO<List<Open384LawSuitDTO>>();
		rtnDTO.setRtnSerialNo(uuid);
		rtnDTO.setRespStr(apiData);
		rtnDTO.setCode(status);
		rtnDTO.setMsg(dtos.getMessage());
		// 非正常情况
		if (TcxyApiStatusCodeEnum.SUCCESS.key() != status && TcxyApiStatusCodeEnum.SUCCESS_NO_DATA.key() != status) {
			rtnDTO.setRemark("查询失败");
			return rtnDTO;
		}
		
		entLawsuitInfoService.deleteByEntName(entName);
		// 成功无数据情况
		if (TcxyApiStatusCodeEnum.SUCCESS_NO_DATA.key() == status) {
			rtnDTO.setRemark("查询成功无数据");
			return rtnDTO;
		}
		// 查询成功
		ResponsePerPageNumResultDTO<Open384LawSuitDTO> data = dtos.getData();
		if (null == data) {
			logger.error("[{}]data节点数据返回为空", param.getSeqNum());
			rtnDTO.setCode(TcxyApiStatusCodeEnum.SUCCESS_NO_DATA.key());
			rtnDTO.setMsg(TcxyApiStatusCodeEnum.SUCCESS_NO_DATA.desc());
			return rtnDTO;
		}
		// 保存数据
		List<Open384LawSuitDTO> items = data.getItems();
		if (null == items || items.isEmpty()) {
			rtnDTO.setCode(TcxyApiStatusCodeEnum.SUCCESS_NO_DATA.key());
			rtnDTO.setMsg(TcxyApiStatusCodeEnum.SUCCESS_NO_DATA.desc());
			rtnDTO.setRemark("查询成功，返回节点无数据");
			return rtnDTO;
		}
		
		List<String> connLs = null;
		List<EntLawsuitInfoEntity> list = new ArrayList<EntLawsuitInfoEntity>(items.size());
		String connStr = null;
		EntLawsuitInfoEntity entity = null;
		for (Open384LawSuitDTO item : items) {
			entity = new EntLawsuitInfoEntity();
			BeanUtils.copyProperties(item, entity);
			entity.setEntId(param.getEntListInfo().getId());
			entity.setEntName(entName);
			entity.setCreditCode(param.getEntListInfo().getCreditCode());

			connLs = item.getConnList();
			if (null != connLs && connLs.size() >= 1) {
				connStr = Joiner.on(",").join(connLs);
				entity.setConnList(connStr);
			}
			list.add(entity);
		}
		entLawsuitInfoService.insertBatch(list);
		// 返回数据
		rtnDTO.setData(items);
		rtnDTO.setRemark("查询成功");
		logger.info("统一响应数据：{}", new Gson().toJson(rtnDTO));
		return rtnDTO;

	}
}
